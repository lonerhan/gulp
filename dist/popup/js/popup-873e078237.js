function Popup(){"use strict";function e(e,o){if(r.indexOf(e)===-1)return console.error('请输入合法的"show(arg)",arg可选"confirm" "success" "failure" "loading"'),!1;o=o||{},i.getElementsByClassName("popup-"+e)[0]||t(e),o.text&&(u[e].text=o.text),o.maskColor&&(u[e].maskColor=o.maskColor),p.style.backgroundColor=u[e].maskColor,n();var a=i.getElementsByClassName("popup-"+e)[0];if(a.getElementsByClassName("text")[0].textContent=u[e].text,"confirm"===e){o.buttonReverse&&(u.confirm.buttonReverse=o.buttonReverse);var l=a.getElementsByClassName("button");u.confirm.buttonReverse?(l[0].style.float="right",l[1].style.float="left"):(l[0].style.float="left",l[1].style.float="right");var c=a.getElementsByClassName("yes")[0],m=a.getElementsByClassName("no")[0];s(c,o.success,u.confirm.success),s(m,o.failure,u.confirm.failure)}o.timeout&&setTimeout(function(){n()},o.timeout),a.style.display="block",i.style.display="block"}function t(e){var t=document.createElement("div");t.classList.add("popup-item","popup-"+e),t.innerHTML=c[e],i.appendChild(t)}function s(e,t,s){o(t)?e.onclick=function(){s(),t()}:e.onclick=s}function o(e){return"[object Function]"===Object.prototype.toString.call(e)}function n(){var e=i.getElementsByClassName("popup-item");i.style.display="none";for(var t=0,s=e.length;t<s;t++)e[t].style.display="none"}if(document.getElementById("popup-box")||document.getElementsByClassName("popup-box")[0])console.warn('请删除HTML中的"#popup-box"和".popup-box"元素,否则会出现意想不到的BUG');else{var a=document.createElement("div"),l=document.createElement("div");a.setAttribute("id","popup-box"),a.classList.add("popup-box"),l.classList.add("popup-mask"),a.appendChild(l),document.getElementsByTagName("body")[0].appendChild(a)}var c={confirm:'<div class="confirm-text"><p class="text"></p></div><div class="confirm-button clear-fix">    <button class="button no">取消</button>    <button class="button yes">确定</button></div>',loading:'<span class="icon loading"></span><p class="text"></p>',success:'<span class="icon"></span><p class="text"></p>',failure:'<span class="icon"></span><p class="text"></p>'},i=document.getElementById("popup-box"),p=i.getElementsByClassName("popup-mask")[0],r=["confirm","loading","success","failure"],u={confirm:{maskColor:"rgba(67, 67, 67, 0.5)",text:"解绑后将无法收到该设备的任何消息。您确定要解绑吗?",buttonReverse:!1,success:function(){var e=i.getElementsByClassName("popup-confirm")[0];i.style.display="none",e.style.display="none",console.log("click success")},failure:function(){var e=i.getElementsByClassName("popup-confirm")[0];i.style.display="none",e.style.display="none",console.log("click failure")}},loading:{maskColor:"transparent",text:"解绑中..."},success:{maskColor:"transparent",text:"该设备已解除绑定"},failure:{maskColor:"transparent",text:"该设备解绑失败 请重试"}},m=function(e){e.preventDefault(),e.stopPropagation()},d=function(e){e.stopPropagation()};return i.addEventListener("touchmove",m,!1),p.addEventListener("touchstart",d,!1),p.addEventListener("touchend",d,!1),p.addEventListener("click",d,!1),{show:function(t,s){e(t,s)},close:function(){n()}}}